# ü§ñ UIVK Bot

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞–∫–∞–Ω—Å–∏—è–º–∏ –∏ FAQ.  
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **–¥–∏–∞–ª–æ–≥–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –∏ **–∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã–º–∏.

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–°–º–æ—Ç—Ä–µ—Ç—å —á–µ—Ä–µ–∑ —Ñ–∞–π–ª README.MD

app/ # –û—Å–Ω–æ–≤–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ
‚îú‚îÄ‚îÄ database/ # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ ‚îú‚îÄ‚îÄ configuration/ # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î, —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
‚îÇ ‚îú‚îÄ‚îÄ dataclasses/ # Dataclass-—Ç–∞–±–ª–∏—Ü—ã + CRUD-–º–µ—Ç–æ–¥—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ ‚îú‚îÄ‚îÄ inserting_data.py # –†–∞–∑–æ–≤–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
‚îÇ ‚îî‚îÄ‚îÄ database.py # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î
‚îÇ
‚îú‚îÄ‚îÄ dialogs/ # –î–∏–∞–ª–æ–≥–∏ (aiogram-dialog)
‚îÇ ‚îú‚îÄ‚îÄ admin_panel_dialog/ # –î–∏–∞–ª–æ–≥ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏ (CRUD, FAQ, –≤–∞–∫–∞–Ω—Å–∏–∏)
‚îÇ ‚îî‚îÄ‚îÄ uivk_dialog/ # –î–∏–∞–ª–æ–≥ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–≤–∞–∫–∞–Ω—Å–∏–∏ –∏ FAQ)
‚îÇ
‚îú‚îÄ‚îÄ filters/ # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã –¥–ª—è —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ logs/ # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –ª–æ–≥–æ–≤
‚îÇ
‚îú‚îÄ‚îÄ middlewares/ # Middleware
‚îÇ ‚îú‚îÄ‚îÄ KickDeletedAdmin... # –ö–∏–∫–∞–µ—Ç —É–¥–∞–ª—ë–Ω–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞ –∏–∑ –ø–∞–Ω–µ–ª–∏
‚îÇ ‚îî‚îÄ‚îÄ LoggingMiddleware # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ
‚îú‚îÄ‚îÄ routers/ # –†–æ—É—Ç–µ—Ä—ã –¥–ª—è –æ–±—ã—á–Ω—ã—Ö —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
‚îÇ ‚îú‚îÄ‚îÄ admin_panel/ # –•–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è –∞–¥–º–∏–Ω–∫–∏ (CRUD, –∑–∞–ø—É—Å–∫ –ø–∞–Ω–µ–ª–∏)
‚îÇ ‚îî‚îÄ‚îÄ start/ # –•–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∑–∞–ø—É—Å–∫ UI.VK –¥–∏–∞–ª–æ–≥–∞)
‚îÇ
‚îú‚îÄ‚îÄ bot.py # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–æ–≤
‚îî‚îÄ‚îÄ settings.py # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞, –∑–∞–≥—Ä—É–∑–∫–∞ .env



---

## ‚öôÔ∏è –†–∞–±–æ—Ç–∞ —Å –ë–î

- **–ú–∏–≥—Ä–∞—Ü–∏–π (Alembic) –Ω–µ—Ç** ‚Äî —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ `app/database/configuration/create_tables.py`.
- –í `dataclasses` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –º–æ–¥–µ–ª–∏ —Ç–∞–±–ª–∏—Ü —Å:
    - **class methods** –¥–ª—è CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π;
    - **static methods** –¥–ª—è –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–π –ª–æ–≥–∏–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ).
- –ï—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–µ—à—å –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É ‚Äî –¥–æ–ø–æ–ª–Ω—è–π `create_tables.py` –∏ –∑–∞–ø—É—Å–∫–∞–π –ø–æ–≤—Ç–æ—Ä–Ω–æ (—Ç–∞–º —Å—Ç–æ–∏—Ç `IF NOT EXISTS`).
- –ï—Å—Ç—å `inserting_data.py`, –æ–Ω –≤–±–∏–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ –ë–î (–∑–∞–ø—É—Å–∫ –æ–¥–∏–Ω —Ä–∞–∑ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∑–∞—Ä–∞–Ω–µ–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ –≤–∞–∫–∏ –∏ –∏—Ö FAQ).

---

## üîê –î–∏–∞–ª–æ–≥–∏

- **Admin Panel** (`app/dialogs/admin_panel_dialog`)  
  –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏—è–º–∏ –∏ FAQ, —Å–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π, —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–≤.
  > –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –≤–∞–∫–∞–Ω—Å–∏—è —Å–∫—Ä—ã—Ç–∞ (`hidden=True`) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

- **UIVK Dialog** (`app/dialogs/uivk_dialog`)  
  –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π –∏ FAQ –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üõ°Ô∏è –§–∏–ª—å—Ç—Ä—ã –∏ middleware

- **–§–∏–ª—å—Ç—Ä—ã** (`app/filters`) ‚Äî –ø—Ä–æ–≤–µ—Ä—è—é—Ç —É—Å–ª–æ–≤–∏—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤. –ü–æ–∫–∞ —á—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∞–¥–º–∏–Ω –∏
  –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏ –≤ —Ö–µ–Ω–¥–ª–µ—Ä–∞—Ö admin_router
- **Middleware** (`app/middlewares`):
    - `KickDeletedAdminFromAdminPanel` ‚Äî –≤—ã–∫–∏–¥—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏, –µ—Å–ª–∏ –æ–Ω –ø–æ—Ç–µ—Ä—è–ª –ø—Ä–∞–≤–∞.
    - `LoggingMiddleware` ‚Äî –ø–∏—à–µ—Ç –ª–æ–≥–∏ –¥–µ–π—Å—Ç–≤–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

## üöÄ –ó–∞–ø—É—Å–∫

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è `.env`

```env
# –¢–æ–∫–µ–Ω —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞
BOT_TEST_TOKEN=1234567890:ABCDEF...

# –°–ø–∏—Å–æ–∫ —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
MAIN_ADMIN_TELEGRAM_IDS=123456789,987654321
```

---

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

–ï—Å–ª–∏ –≤ app/settings.py —Å—Ç–æ–∏—Ç DEBUG = False ‚Üí
–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è BOT_TEST_TOKEN –∏ MemoryStorage (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –±–æ—Ç–∞ –±–µ–∑ Redis).

–í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ ‚Äî Redis + Docker.

---

## üìú –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤

<b>–û–±—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:</b>

<i>/admin ‚Äì –æ—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (–¥–ª—è –≤—Å–µ—Ö –∞–¥–º–∏–Ω–æ–≤)</i>

<i>/id ‚Äì —É–∑–Ω–∞—Ç—å —Å–≤–æ–π Telegram ID (–¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)</i>

<i>/help ‚Äì —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞ (–¥–ª—è –≤—Å–µ—Ö –∞–¥–º–∏–Ω–æ–≤)</i>

<b>–¢–æ–ª—å–∫–æ –¥–ª—è —Å—É–ø–µ—Ä-–∞–¥–º–∏–Ω–æ–≤:</b>

<i>/add 123456789 ‚Äì –¥–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (—É–∫–∞–∑–∞—Ç—å Telegram ID)</i>

<i>/remove 123456789 ‚Äì —É–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (—É–∫–∞–∑–∞—Ç—å Telegram ID)</i>

<i>/list_admins ‚Äì —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–¥–º–∏–Ω–æ–≤</i>


---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ —Å–æ–±—ã—Ç–∏—è –∏ –æ—à–∏–±–∫–∏ –ø–∏—à—É—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é app/logs.

–¢–∞–∫–∂–µ –≤ bot.py —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π exception catcher –¥–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –¥–∏–∞–ª–æ–≥–æ–≤,
–µ—Å–ª–∏ Redis –±—ã–ª –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω.

---